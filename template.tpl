___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos
(or such other URL as Google may provide), as modified from time to time.

___INFO___

{
  "displayName": "Singular Web Tracking",
  "description": "Uses Singular's Web SDK to track events.",
  "categories": ["ATTRIBUTION", "ANALYTICS", "MARKETING"],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "help": "The type of tracking action invoked when calling this tag.",
    "selectItems": [
      {
        "displayValue": "Initialization",
        "value": "init"
      },
      {
        "displayValue": "Login",
        "value": "login"
      },
      {
        "displayValue": "Logout",
        "value": "logout"
      },
      {
        "displayValue": "Conversion Event",
        "value": "conversion"
      },
      {
        "displayValue": "Custom Event",
        "value": "custom"
      },
      {
        "displayValue": "Revenue Event",
        "value": "revenue"
      }
    ],
    "displayName": "Track Type",
    "simpleValueType": true,
    "name": "trackType",
    "type": "SELECT"
  },
  {
    "help": "The Apikey provided on the Singular platform.",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "init"
      }
    ],
    "displayName": "Api Key",
    "simpleValueType": true,
    "name": "apikey",
    "type": "TEXT"
  },
  {
    "help": "The Secret provided on the Singular Platform.",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "init"
      }
    ],
    "displayName": "Secret",
    "simpleValueType": true,
    "name": "secret",
    "type": "TEXT"
  },
  {
    "help": "The name of the App / Website that you are using Singular to track.",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "init"
      }
    ],
    "displayName": "Package Name",
    "simpleValueType": true,
    "name": "packageName",
    "type": "TEXT"
  },
  {
    "help": "The level of the log messages that the Singular Web Tracking template will print to the console.",
    "macrosInSelect": false,
    "selectItems": [
      {
        "displayValue": "None",
        "value": 0
      },
      {
        "displayValue": "Warn",
        "value": 1
      },
      {
        "displayValue": "Info",
        "value": 2
      },
      {
        "value": 3,
        "displayValue": "Debug"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "init"
      }
    ],
    "displayName": "Log Level",
    "simpleValueType": true,
    "name": "logLevel",
    "type": "SELECT"
  },
  {
    "help": "The name of the tracking event.",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "custom"
      },
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "conversion"
      },
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "revenue"
      }
    ],
    "displayName": "Event Name",
    "simpleValueType": true,
    "name": "eventName",
    "type": "TEXT"
  },
  {
    "help": "Sets the provided user id and persists it until using the \"Logout\" Track Type method. (Mandatory only on \"Login\" Track Type, Optional on the rest)",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "NOT_EQUALS",
        "paramValue": "logout"
      }
    ],
    "valueValidators": [
      {
        "enablingConditions": [
          {
            "paramName": "callType",
            "type": "EQUALS",
            "paramValue": "login"
          }
        ],
        "errorMessage": "When using the Login method, Custom User Id value can't be empty",
        "type": "NON_EMPTY"
      }
    ],
    "displayName": "Custom User Id",
    "simpleValueType": true,
    "name": "customUserId",
    "type": "TEXT"
  },
  {
    "help": "The currency used for the transaction. (The default value is USD)",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "revenue"
      }
    ],
    "displayName": "Currency",
    "defaultValue": "USD",
    "simpleValueType": true,
    "name": "currency",
    "type": "TEXT"
  },
  {
    "help": "The revenue represented in the stated currency.",
    "valueValidators": [
      {
        "args": [
          "\\(?\\d+\\.?\\d*\\)?"
        ],
        "type": "REGEX"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "revenue"
      }
    ],
    "displayName": "Revenue",
    "simpleValueType": true,
    "name": "revenue",
    "type": "TEXT"
  },
  {
    "help": "(Optional) A Key-Value map that can be sent along with the tracking event.",
    "enablingConditions": [
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "custom"
      },
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "conversion"
      },
      {
        "paramName": "trackType",
        "type": "EQUALS",
        "paramValue": "revenue"
      }
    ],
    "displayName": "Attributes",
    "name": "attributes",
    "simpleTableColumns": [
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "isUnique": true,
        "type": "TEXT"
      },
      {
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "type": "SIMPLE_TABLE"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "singularSdkQueue"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://web-sdk-cdn.singular.net/singular-gtm-interface/latest/singular-gtm-interface.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const makeTableMap = require('makeTableMap');
const injectScript = require('injectScript');
const createQueue = require('createQueue');

const singularSdkQueuePush = createQueue('singularSdkQueue');

// Converting the param table to map
if (data.attributes) {
  data.attributes = makeTableMap(data.attributes, 'key', 'value');
}

singularSdkQueuePush(data);

injectScript("https://web-sdk-cdn.singular.net/singular-gtm-interface/latest/singular-gtm-interface.js", data.gtmOnSuccess, data.gtmOnFailure);


___NOTES___

Created on 9/24/2019, 7:57:02 PM
